var D={exports:{}},E={};var Y;function ae(){return Y||(Y=1,(function(e){function a(t,s){var n=t.length;t.push(s);e:for(;0<n;){var i=n-1>>>1,c=t[i];if(0<l(c,s))t[i]=s,t[n]=c,n=i;else break e}}function r(t){return t.length===0?null:t[0]}function u(t){if(t.length===0)return null;var s=t[0],n=t.pop();if(n!==s){t[0]=n;e:for(var i=0,c=t.length,R=c>>>1;i<R;){var H=2*(i+1)-1,B=t[H],y=H+1,L=t[y];if(0>l(B,n))y<c&&0>l(L,B)?(t[i]=L,t[y]=n,i=y):(t[i]=B,t[H]=n,i=H);else if(y<c&&0>l(L,n))t[i]=L,t[y]=n,i=y;else break e}}return s}function l(t,s){var n=t.sortIndex-s.sortIndex;return n!==0?n:t.id-s.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var v=performance;e.unstable_now=function(){return v.now()}}else{var w=Date,g=w.now();e.unstable_now=function(){return w.now()-g}}var b=[],m=[],P=1,o=null,d=3,q=!1,_=!1,T=!1,F=!1,M=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function j(t){for(var s=r(m);s!==null;){if(s.callback===null)u(m);else if(s.startTime<=t)u(m),s.sortIndex=s.expirationTime,a(b,s);else break;s=r(m)}}function V(t){if(T=!1,j(t),!_)if(r(b)!==null)_=!0,h||(h=!0,k());else{var s=r(m);s!==null&&K(V,s.startTime-t)}}var h=!1,p=-1,U=5,A=-1;function J(){return F?!0:!(e.unstable_now()-A<U)}function C(){if(F=!1,h){var t=e.unstable_now();A=t;var s=!0;try{e:{_=!1,T&&(T=!1,N(p),p=-1),q=!0;var n=d;try{t:{for(j(t),o=r(b);o!==null&&!(o.expirationTime>t&&J());){var i=o.callback;if(typeof i=="function"){o.callback=null,d=o.priorityLevel;var c=i(o.expirationTime<=t);if(t=e.unstable_now(),typeof c=="function"){o.callback=c,j(t),s=!0;break t}o===r(b)&&u(b),j(t)}else u(b);o=r(b)}if(o!==null)s=!0;else{var R=r(m);R!==null&&K(V,R.startTime-t),s=!1}}break e}finally{o=null,d=n,q=!1}s=void 0}}finally{s?k():h=!1}}}var k;if(typeof I=="function")k=function(){I(C)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,re=Q.port2;Q.port1.onmessage=C,k=function(){re.postMessage(null)}}else k=function(){M(C,0)};function K(t,s){p=M(function(){t(e.unstable_now())},s)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_next=function(t){switch(d){case 1:case 2:case 3:var s=3;break;default:s=d}var n=d;d=s;try{return t()}finally{d=n}},e.unstable_requestPaint=function(){F=!0},e.unstable_runWithPriority=function(t,s){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=d;d=t;try{return s()}finally{d=n}},e.unstable_scheduleCallback=function(t,s,n){var i=e.unstable_now();switch(typeof n=="object"&&n!==null?(n=n.delay,n=typeof n=="number"&&0<n?i+n:i):n=i,t){case 1:var c=-1;break;case 2:c=250;break;case 5:c=1073741823;break;case 4:c=1e4;break;default:c=5e3}return c=n+c,t={id:P++,callback:s,priorityLevel:t,startTime:n,expirationTime:c,sortIndex:-1},n>i?(t.sortIndex=n,a(m,t),r(b)===null&&t===r(m)&&(T?(N(p),p=-1):T=!0,K(V,n-i))):(t.sortIndex=c,a(b,t),_||q||(_=!0,h||(h=!0,k()))),t},e.unstable_shouldYield=J,e.unstable_wrapCallback=function(t){var s=d;return function(){var n=d;d=s;try{return t.apply(this,arguments)}finally{d=n}}}})(E)),E}var W;function ye(){return W||(W=1,D.exports=ae()),D.exports}class S{constructor(a=0,r="Network Error"){this.status=a,this.text=r}}const ne=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,a)=>Promise.resolve(localStorage.setItem(e,a)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},f={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:ne()},O=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},se=(e,a="https://api.emailjs.com")=>{if(!e)return;const r=O(e);f.publicKey=r.publicKey,f.blockHeadless=r.blockHeadless,f.storageProvider=r.storageProvider,f.blockList=r.blockList,f.limitRate=r.limitRate,f.origin=r.origin||a},z=async(e,a,r={})=>{const u=await fetch(f.origin+e,{method:"POST",headers:r,body:a}),l=await u.text(),v=new S(u.status,l);if(u.ok)return v;throw v},G=(e,a,r)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!a||typeof a!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!r||typeof r!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},ie=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},X=e=>e.webdriver||!e.languages||e.languages.length===0,Z=()=>new S(451,"Unavailable For Headless Browser"),le=(e,a)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof a!="string")throw"The BlockList watchVariable has to be a string"},oe=e=>!e.list?.length||!e.watchVariable,ce=(e,a)=>e instanceof FormData?e.get(a):e[a],x=(e,a)=>{if(oe(e))return!1;le(e.list,e.watchVariable);const r=ce(a,e.watchVariable);return typeof r!="string"?!1:e.list.includes(r)},$=()=>new S(403,"Forbidden"),ue=(e,a)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(a&&typeof a!="string")throw"The LimitRate ID has to be a non-empty string"},fe=async(e,a,r)=>{const u=Number(await r.get(e)||0);return a-Date.now()+u},ee=async(e,a,r)=>{if(!a.throttle||!r)return!1;ue(a.throttle,a.id);const u=a.id||e;return await fe(u,a.throttle,r)>0?!0:(await r.set(u,Date.now().toString()),!1)},te=()=>new S(429,"Too Many Requests"),de=async(e,a,r,u)=>{const l=O(u),v=l.publicKey||f.publicKey,w=l.blockHeadless||f.blockHeadless,g=l.storageProvider||f.storageProvider,b={...f.blockList,...l.blockList},m={...f.limitRate,...l.limitRate};return w&&X(navigator)?Promise.reject(Z()):(G(v,e,a),ie(r),r&&x(b,r)?Promise.reject($()):await ee(location.pathname,m,g)?Promise.reject(te()):z("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:v,service_id:e,template_id:a,template_params:r}),{"Content-type":"application/json"}))},be=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},me=e=>typeof e=="string"?document.querySelector(e):e,ve=async(e,a,r,u)=>{const l=O(u),v=l.publicKey||f.publicKey,w=l.blockHeadless||f.blockHeadless,g=f.storageProvider||l.storageProvider,b={...f.blockList,...l.blockList},m={...f.limitRate,...l.limitRate};if(w&&X(navigator))return Promise.reject(Z());const P=me(r);G(v,e,a),be(P);const o=new FormData(P);return x(b,o)?Promise.reject($()):await ee(location.pathname,m,g)?Promise.reject(te()):(o.append("lib_version","4.4.1"),o.append("service_id",e),o.append("template_id",a),o.append("user_id",v),z("/api/v1.0/email/send-form",o))},we={init:se,send:de,sendForm:ve,EmailJSResponseStatus:S};export{we as e,ye as r};
